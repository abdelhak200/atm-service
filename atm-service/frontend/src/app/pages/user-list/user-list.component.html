<div class="card">
  <div class="header-bar">
    <div>
      <h1 class="page-title">User Directory</h1>
      <p class="page-subtitle">Manage user profiles, update details, or remove records.</p>
    </div>
    <button class="primary-button" type="button" (click)="navigateToCreate()">Create New User</button>
  </div>

  <div class="badge">{{ filteredUsers.length }} users</div>

  <div class="table-wrapper">
    <table class="table resizable-table">
      <thead>
        <tr>
          <th [style.width.px]="columnWidths.id">
            <span>ID</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'id')"></span>
          </th>
          <th [style.width.px]="columnWidths.name">
            <span>Name</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'name')"></span>
          </th>
          <th [style.width.px]="columnWidths.firstName">
            <span>First Name</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'firstName')"></span>
          </th>
          <th [style.width.px]="columnWidths.secondName">
            <span>Second Name</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'secondName')"></span>
          </th>
          <th [style.width.px]="columnWidths.dateOfBirth">
            <span>Date of Birth</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'dateOfBirth')"></span>
          </th>
          <th [style.width.px]="columnWidths.email">
            <span>Email</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'email')"></span>
          </th>
          <th [style.width.px]="columnWidths.actions">
            <span>Actions</span>
            <span class="resize-handle" (mousedown)="startResizing($event, 'actions')"></span>
          </th>
        </tr>
        <tr class="filter-row">
          <th><input type="text" placeholder="Search ID" (change)="onFilterChange('id', $event)" /></th>
          <th><input type="text" placeholder="Search name" (change)="onFilterChange('name', $event)" /></th>
          <th><input type="text" placeholder="Search first name" (change)="onFilterChange('firstName', $event)" /></th>
          <th><input type="text" placeholder="Search second name" (change)="onFilterChange('secondName', $event)" /></th>
          <th><input type="text" placeholder="Search birth date" (change)="onFilterChange('dateOfBirth', $event)" /></th>
          <th><input type="text" placeholder="Search email" (change)="onFilterChange('email', $event)" /></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers">
          <td [style.width.px]="columnWidths.id">{{ user.id }}</td>
          <td [style.width.px]="columnWidths.name">{{ user.name }}</td>
          <td [style.width.px]="columnWidths.firstName">{{ user.firstName }}</td>
          <td [style.width.px]="columnWidths.secondName">{{ user.secondName }}</td>
          <td [style.width.px]="columnWidths.dateOfBirth">{{ user.dateOfBirth }}</td>
          <td [style.width.px]="columnWidths.email">{{ user.email }}</td>
          <td [style.width.px]="columnWidths.actions">
            <div class="action-buttons">
              <button class="secondary-button" type="button" (click)="editUser(user.id)">Edit Details</button>
              <button class="ghost-button" type="button" (click)="deleteUser(user.id)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
